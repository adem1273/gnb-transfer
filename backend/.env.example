# Server Configuration
NODE_ENV=development
PORT=5000

# Database Configuration
# MongoDB Atlas connection string or local MongoDB
# For MongoDB Atlas: mongodb+srv://<username>:<password>@<cluster>.mongodb.net/<database>?retryWrites=true&w=majority
# For local MongoDB: mongodb://localhost:27017/gnb-transfer
MONGO_URI=mongodb+srv://username:password@cluster.mongodb.net/dbname?retryWrites=true&w=majority

# Authentication
# Generate a strong random string for production (e.g., using openssl rand -base64 32)
JWT_SECRET=your-super-secret-jwt-key-change-this
JWT_EXPIRES_IN=7d

# Password Hashing
BCRYPT_ROUNDS=10

# CORS Configuration
# CRITICAL: In production, CORS_ORIGINS MUST be set to your frontend domain(s)
# The application will fail to start in production if this is not configured
# Comma-separated list of allowed origins (exact match, case-sensitive)
# Development: http://localhost:5173,http://localhost:3000
# Production: https://your-frontend-domain.com,https://www.your-frontend-domain.com
CORS_ORIGINS=http://localhost:5173,http://localhost:3000

# Require origin header (set to true for stricter security in production)
# When true, requests without an origin header will be blocked
CORS_REQUIRE_ORIGIN=false

# Stripe Payment Configuration
# Test keys (for development): pk_test_... and sk_test_...
# Live keys (for production): pk_live_... and sk_live_...
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# OpenAI Configuration (for AI features)
# Get your API key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-api-key-here

# Logging Configuration
LOG_LEVEL=info
ENABLE_FILE_LOGGING=true

# Sentry Error Tracking (optional)
# Get your DSN from: https://sentry.io
# Leave empty to disable Sentry
SENTRY_DSN=

# Email Configuration (optional - for notifications)
# Choose one of the following providers:

# Option 1: Gmail (Free - use App Password)
EMAIL_PROVIDER=gmail
EMAIL_USER=your-email@gmail.com
EMAIL_PASSWORD=your-16-digit-app-password

# Option 2: Mailtrap (Free for testing - 500 emails/month)
# EMAIL_PROVIDER=mailtrap
# MAILTRAP_HOST=smtp.mailtrap.io
# MAILTRAP_PORT=2525
# MAILTRAP_USER=your-mailtrap-username
# MAILTRAP_PASSWORD=your-mailtrap-password

# Option 3: Generic SMTP
# EMAIL_PROVIDER=smtp
# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_SECURE=false
# SMTP_USER=your-smtp-username
# SMTP_PASSWORD=your-smtp-password

# Rate Limiting
# Window in milliseconds (900000 = 15 minutes)
RATE_LIMIT_WINDOW_MS=900000
# Maximum requests per window for global rate limiter
RATE_LIMIT_MAX=100
# Maximum requests per window for strict rate limiter (login, register, etc.)
STRICT_RATE_LIMIT_MAX=5
# Comma-separated list of whitelisted IPs (optional)
RATE_LIMIT_WHITELIST=
# Skip rate limiting in development (true/false)
SKIP_RATE_LIMIT=false

# Proxy Configuration
# Set to true if behind a reverse proxy (nginx, CloudFlare, Vercel, etc.)
# This is automatically enabled in production mode
TRUST_PROXY=true

# Authentication & Tokens
# Access token expiry (short-lived) - used by authService
ACCESS_TOKEN_EXPIRY=15m
# Refresh token expiry (long-lived) - used by authService
REFRESH_TOKEN_EXPIRY=30d
# Access token TTL for token utilities (same as ACCESS_TOKEN_EXPIRY)
ACCESS_TOKEN_TTL=15m
# Refresh token TTL for token utilities (defaults to 7d for refresh endpoint)
REFRESH_TOKEN_TTL=7d

# Session Configuration
SESSION_SECRET=your_session_secret_here

# File Upload Configuration
MAX_FILE_SIZE=5242880
UPLOAD_DIR=./uploads

# Cache Configuration
CACHE_TTL=3600
CACHE_CHECK_PERIOD=600

# Backup Configuration (for CI/CD)
# AWS S3 or compatible storage for backups
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=us-east-1
S3_BACKUP_BUCKET=

# Encryption key for backup encryption (use strong random string)
BACKUP_ENCRYPTION_KEY=

# Monitoring and Alerts
# Slack webhook for notifications
SLACK_WEBHOOK_URL=

# Health Check URLs (for monitoring)
BACKEND_URL=http://localhost:5000
FRONTEND_URL=http://localhost:5173

# Analytics
# Google Analytics 4 Measurement ID
GA_MEASUREMENT_ID=
# Microsoft Clarity Project ID
CLARITY_PROJECT_ID=

# Feature Flags
ENABLE_AI_FEATURES=true
ENABLE_ANALYTICS=true
ENABLE_PAYMENT=true

# Debug Mode
DEBUG=false

# OpenRouteService API Key (for route calculation)
# Get your free API key from: https://openrouteservice.org/
ORS_API_KEY=

# Socket.IO Server Port (for real-time driver location)
SOCKET_PORT=3001

# API Versioning
API_VERSION=v1

# Timezone
TZ=UTC

# Free Tier Hosting Recommendations:
# - Frontend: Vercel (free tier with automatic HTTPS and CDN)
# - Backend: Render (free tier) or Railway (free tier with 500 hours/month)
# - Database: MongoDB Atlas (free tier with 512 MB storage)
# - File Storage: Cloudinary (free tier) or AWS S3 (free tier first year)
# - Email: SendGrid (free tier 100 emails/day) or AWS SES
# - Error Tracking: Sentry (free tier 5000 events/month)
# - Analytics: Google Analytics 4 (free) or Plausible (self-hosted)

